---
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import CookieBanner from '../components/CookieBanner.astro';

interface Props {
  title: string;
  description?: string;
}

const { title, description = "Découvrez notre Riad de charme au coeur de Marrakech pour un séjour authentique combinant tradition marocaine et confort moderne." } = Astro.props;
---

<!doctype html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <meta name="generator" content={Astro.generator} />
  
  <!-- Primary Meta -->
  <title>{title} | Riad Maison du Trésor Marrakech</title>
  <meta name="title" content={`${title} | Riad Maison du Trésor Marrakech`} />
  <meta name="description" content={description} />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="fr_FR" />
  <meta property="og:url" content="https://www.maisondutresormarrakech.com/" />
  <meta property="og:title" content={`${title} | Riad Maison du Trésor Marrakech`} />
  <meta property="og:description" content={description} />
  <meta property="og:image" content="/images/og-image.jpg" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content={`${title} | Riad Maison du Trésor Marrakech`} />
  <meta name="twitter:description" content={description} />
  <meta name="twitter:image" content="/images/og-image.jpg" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
  <body class="font-sans text-gray-800 min-h-screen flex flex-col bg-cream-50">
    <Header />
    <main class="flex-grow">
      <slot />
    </main>
    <Footer />
    <CookieBanner />
      <!-- Floating WhatsApp Icon -->
     <a href="https://wa.me/212633570241" target="_blank" rel="noopener noreferrer" class="floating-whatsapp">
   <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="24" height="24" fill="#25D366">
  <path d="M16.001 2.003c-7.73 0-14 6.268-14 13.998a13.9 13.9 0 002.062 7.236L2 30l6.948-2.02a13.93 13.93 0 007.053 1.856h.001c7.73 0 14-6.27 14-14.001 0-3.736-1.455-7.243-4.098-9.885A13.933 13.933 0 0016.001 2.003zm0 25.546a11.512 11.512 0 01-5.866-1.599l-.42-.248-4.124 1.2 1.233-4.017-.273-.414a11.53 11.53 0 01-1.782-6.125c0-6.364 5.179-11.546 11.566-11.546 3.089 0 5.993 1.204 8.173 3.383a11.453 11.453 0 013.393 8.163c0 6.364-5.179 11.546-11.566 11.546zm6.273-8.616c-.344-.172-2.031-1-2.348-1.114-.316-.115-.547-.172-.777.172-.23.344-.888 1.115-1.09 1.34-.201.23-.402.258-.746.086s-1.457-.537-2.778-1.714c-1.027-.916-1.72-2.05-1.92-2.395-.201-.344-.021-.53.152-.702.156-.155.344-.402.516-.603.172-.201.23-.344.344-.573.115-.229.057-.43-.029-.602-.086-.172-.777-1.872-1.064-2.558-.28-.672-.564-.582-.777-.592l-.662-.012c-.229 0-.601.086-.916.43s-1.2 1.172-1.2 2.856 1.229 3.31 1.4 3.537c.172.229 2.42 3.696 5.872 5.183.821.354 1.463.566 1.962.723.824.263 1.574.226 2.166.137.66-.099 2.031-.83 2.32-1.632.287-.802.287-1.487.201-1.63-.086-.144-.315-.23-.66-.401z"/>
</svg>

  </a>
  </body>
</html>

<style is:global>
  html {
    scroll-behavior: smooth;
  }
  
  body {
    @apply bg-cream-50;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-serif tracking-wide;
  }
  
  p {
    @apply leading-relaxed font-light;
  }

  .btn {
    @apply px-6 py-3 rounded-sm transition-all duration-300 inline-block text-center font-medium tracking-wide shadow-luxury hover:shadow-luxury-lg transform hover:-translate-y-0.5;
  }

  .btn-primary {
    @apply bg-gold-400 hover:bg-gold-500 text-white;
  }

  .btn-secondary {
    @apply bg-navy-500 hover:bg-navy-600 text-white;
  }

  .btn-outline {
    @apply border-2 border-gold-400 text-gold-500 hover:bg-gold-400 hover:text-white;
  }

  .section-title {
    @apply text-3xl md:text-4xl font-serif mb-6 relative inline-block tracking-wide;
  }

  .section-title::after {
    content: "";
    @apply absolute bottom-0 left-0 w-2/3 h-0.5 bg-gold-400;
  }

  .container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .section-padding {
    @apply py-16 md:py-20 lg:py-24;
  }

  .luxury-card {
    @apply bg-white rounded-sm shadow-luxury hover:shadow-luxury-lg transition-all duration-300 transform hover:-translate-y-1;
  }

  .luxury-input {
    @apply w-full px-4 py-3 border border-gray-200 rounded-sm focus:ring-2 focus:ring-gold-400 focus:border-gold-400 transition-colors bg-cream-50;
  }

  .luxury-select {
    @apply luxury-input appearance-none bg-no-repeat bg-right pr-10;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23666666'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
    background-size: 1.5rem;
  }

  /* Smooth fade-in animation */
  .fade-in {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }

  .fade-in.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Luxury hover effect */
  .luxury-hover {
    @apply transition-all duration-300 hover:shadow-luxury-lg transform hover:-translate-y-1;
  }

  .floating-whatsapp {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
    background-color: #25D366; /* WhatsApp green color */
    border-radius: 50%;
    padding: 12px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    transition: background-color 0.3s ease;
  }

  .floating-whatsapp svg {
    width: 24px;
    height: 24px;
    fill: white;
  }

  .floating-whatsapp:hover {
    background-color: #1EBE5C; /* Darker green on hover */
  }
</style>

<script>
  // Animation au défilement
  document.addEventListener('DOMContentLoaded', function() {
    const animatedElements = document.querySelectorAll('.fade-in, .fade-in-up');
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });
    
    animatedElements.forEach(el => {
      observer.observe(el);
    });
  });
</script>